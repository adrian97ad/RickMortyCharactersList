<!doctype html>
<html class="rickAndMortyList" lang="">

<head>
    <meta charset="utf-8">
    <title>Listado personajes de Rick & Morty</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet/less" type="text/css" href="css/RickAndMortyList.less"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="scripts/RickAndMortyAPI.js"></script>
    <script src="scripts/Character.js"></script>

</head>
<body>
<div class="content">
    <form action="" id="searchBar">
        <input type="text" placeholder="Name" class="inputElement" id="selectName" autocomplete="off">
        <select name="alive" id="selectAlive" class="inputElement">
            <option value="unknow">Unknow</option>
            <option value="dead">Dead</option>
            <option value="alive">Alive</option>
        </select>
        <input type="text" placeholder="Species" id="selectSpecie" class="inputElement" autocomplete="off">
        <input type="text" placeholder="Type" id="selectType" class="inputElement" autocomplete="off">
        <select name="gender" id="selectGender" class="inputElement">
            <option value="unknow">Unknow</option>
            <option value="genderless">genderless</option>
            <option value="male">male</option>
            <option value="female">female</option>
        </select>
        <button type="submit" id="searchButton">Search</button>
    </form>
    <div class="charactersList"></div>
</div>
<script>
    $(document).ready(function () {
        if (window.location.search !== '') {
            const urlParams = new URLSearchParams(window.location.search);
            CharactersManager.getInstance().initTemplateAndList(urlParams.get('name'), urlParams.get('status'),
                urlParams.get('species'), urlParams.get('type'), urlParams.get('gender'));
        }
        $('#searchButton').on('click', function (event) {
            event.preventDefault();
            let $inputElements = $('.inputElement');
            CharactersManager.getInstance().initTemplateAndList($inputElements[0].value, $inputElements[1].value,
                $inputElements[2].value, $inputElements[3].value, $inputElements[4].value);
        });
    });
</script>
</body>
</html>
